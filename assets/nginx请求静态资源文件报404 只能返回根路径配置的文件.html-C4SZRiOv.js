import{_ as t}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as e,c as n,e as a}from"./app-BS5nKywX.js";const i={},o=a(`<h1 id="nginx请求静态资源文件报404-只能返回根路径配置的文件" tabindex="-1"><a class="header-anchor" href="#nginx请求静态资源文件报404-只能返回根路径配置的文件"><span>nginx请求静态资源文件报404 只能返回根路径配置的文件</span></a></h1><h2 id="nginx配置location时的问题" tabindex="-1"><a class="header-anchor" href="#nginx配置location时的问题"><span>nginx配置location时的问题</span></a></h2><p>之前都是在请求为根目录的情况下配置nginx，即“location / ”下，使用root配置文件路径。</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>location / {
                root    /mnt/c;
        }
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这种情况下，请求localhost:80/返回的确实是/mnt/c。如果改成</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>location /test/ {
                root    /mnt/c;
        }
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>发现报404了，但文件路径确实存在。原因是这样请求后返回的文件路径是/mnt/c/test/，<strong>即root + location</strong>。因此无论如何都不可能找到文件。</p><h2 id="解决方案" tabindex="-1"><a class="header-anchor" href="#解决方案"><span>解决方案</span></a></h2><h3 id="将文件放在正确的路径-这个不用多说了" tabindex="-1"><a class="header-anchor" href="#将文件放在正确的路径-这个不用多说了"><span>将文件放在正确的路径，这个不用多说了</span></a></h3><h3 id="用alias代替root配置文件路径" tabindex="-1"><a class="header-anchor" href="#用alias代替root配置文件路径"><span>用alias代替root配置文件路径</span></a></h3><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>location /test/ {
                root    /mnt/c/;#目录最后要加上/
        }
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>注意配置文件目录时，路径的最后要加上斜杠否则访问不到。</p><p><em>通常在location / 中配置root，在location /* 中配置alias。</em></p>`,13),l=[o];function r(c,s){return e(),n("div",null,l)}const m=t(i,[["render",r],["__file","nginx请求静态资源文件报404 只能返回根路径配置的文件.html.vue"]]),g=JSON.parse(`{"path":"/posts/nginx%E8%AF%B7%E6%B1%82%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E6%96%87%E4%BB%B6%E6%8A%A5404%20%E5%8F%AA%E8%83%BD%E8%BF%94%E5%9B%9E%E6%A0%B9%E8%B7%AF%E5%BE%84%E9%85%8D%E7%BD%AE%E7%9A%84%E6%96%87%E4%BB%B6.html","title":"nginx请求静态资源文件报404 只能返回根路径配置的文件","lang":"zh-CN","frontmatter":{"icon":"pen-to-square","date":"2021-12-01T00:00:00.000Z","category":["运维"],"tag":["Linux","Nginx"],"description":"nginx请求静态资源文件报404 只能返回根路径配置的文件 nginx配置location时的问题 之前都是在请求为根目录的情况下配置nginx，即“location / ”下，使用root配置文件路径。 这种情况下，请求localhost:80/返回的确实是/mnt/c。如果改成 发现报404了，但文件路径确实存在。原因是这样请求后返回的文件路径是...","head":[["meta",{"property":"og:url","content":"https://mister-hope.github.io/posts/nginx%E8%AF%B7%E6%B1%82%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E6%96%87%E4%BB%B6%E6%8A%A5404%20%E5%8F%AA%E8%83%BD%E8%BF%94%E5%9B%9E%E6%A0%B9%E8%B7%AF%E5%BE%84%E9%85%8D%E7%BD%AE%E7%9A%84%E6%96%87%E4%BB%B6.html"}],["meta",{"property":"og:site_name","content":"BCkun's BLOG"}],["meta",{"property":"og:title","content":"nginx请求静态资源文件报404 只能返回根路径配置的文件"}],["meta",{"property":"og:description","content":"nginx请求静态资源文件报404 只能返回根路径配置的文件 nginx配置location时的问题 之前都是在请求为根目录的情况下配置nginx，即“location / ”下，使用root配置文件路径。 这种情况下，请求localhost:80/返回的确实是/mnt/c。如果改成 发现报404了，但文件路径确实存在。原因是这样请求后返回的文件路径是..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-02-27T02:44:22.000Z"}],["meta",{"property":"article:author","content":"BlueCitizen"}],["meta",{"property":"article:tag","content":"Linux"}],["meta",{"property":"article:tag","content":"Nginx"}],["meta",{"property":"article:published_time","content":"2021-12-01T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-02-27T02:44:22.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"nginx请求静态资源文件报404 只能返回根路径配置的文件\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2021-12-01T00:00:00.000Z\\",\\"dateModified\\":\\"2024-02-27T02:44:22.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"BlueCitizen\\",\\"url\\":\\"https://bckun.top\\"}]}"]]},"headers":[{"level":2,"title":"nginx配置location时的问题","slug":"nginx配置location时的问题","link":"#nginx配置location时的问题","children":[]},{"level":2,"title":"解决方案","slug":"解决方案","link":"#解决方案","children":[{"level":3,"title":"将文件放在正确的路径，这个不用多说了","slug":"将文件放在正确的路径-这个不用多说了","link":"#将文件放在正确的路径-这个不用多说了","children":[]},{"level":3,"title":"用alias代替root配置文件路径","slug":"用alias代替root配置文件路径","link":"#用alias代替root配置文件路径","children":[]}]}],"git":{"createdTime":1709001862000,"updatedTime":1709001862000,"contributors":[{"name":"BlueCitizens","email":"bluecitizens@163.com","commits":1}]},"readingTime":{"minutes":0.79,"words":237},"filePathRelative":"posts/nginx请求静态资源文件报404 只能返回根路径配置的文件.md","localizedDate":"2021年12月1日","excerpt":"\\n<h2>nginx配置location时的问题</h2>\\n<p>之前都是在请求为根目录的情况下配置nginx，即“location / ”下，使用root配置文件路径。</p>\\n<div class=\\"language-text\\" data-ext=\\"text\\" data-title=\\"text\\"><pre class=\\"language-text\\"><code>location / {\\n                root    /mnt/c;\\n        }\\n</code></pre></div><p>这种情况下，请求localhost:80/返回的确实是/mnt/c。如果改成</p>","autoDesc":true}`);export{m as comp,g as data};
