import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as l,o,c as p,a as n,b as s,d as a,e as t}from"./app-DVjiNEfE.js";const r={},c=t(`<h1 id="安装nuitka时遇到pip-subprocess-to-install-build-dependencies-did-not-run-successfully" tabindex="-1"><a class="header-anchor" href="#安装nuitka时遇到pip-subprocess-to-install-build-dependencies-did-not-run-successfully"><span>安装Nuitka时遇到pip subprocess to install build dependencies did not run successfully</span></a></h1><h2 id="背景" tabindex="-1"><a class="header-anchor" href="#背景"><span>背景</span></a></h2><p>使用MSYS2自带的<code>Python3.11.8</code>创建的虚拟环境下安装Nuitka会报如下错误</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>  Installing build dependencies <span class="token punctuation">..</span>. error
  error: subprocess-exited-with-error

  × pip subprocess to <span class="token function">install</span> build dependencies did not run successfully.
  │ <span class="token builtin class-name">exit</span> code: <span class="token number">1</span>
  ╰─<span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token number">51</span> lines of output<span class="token punctuation">]</span>
      Looking <span class="token keyword">in</span> indexes: https://pypi.tuna.tsinghua.edu.cn/simple
      Collecting <span class="token assign-left variable">cffi</span><span class="token operator">==</span><span class="token number">1.16</span>.0
        Using cached https://pypi.tuna.tsinghua.edu.cn/packages/68/ce/95b0bae7968c65473e1298efb042e10cafc7bafc14d9e4f154008241c91d/cffi-1.16.0.tar.gz <span class="token punctuation">(</span><span class="token number">512</span> kB<span class="token punctuation">)</span>
        Installing build dependencies: started
        Installing build dependencies: finished with status <span class="token string">&#39;done&#39;</span>
        Getting requirements to build wheel: started
        Getting requirements to build wheel: finished with status <span class="token string">&#39;error&#39;</span>
        error: subprocess-exited-with-error

        Getting requirements to build wheel did not run successfully.
        <span class="token builtin class-name">exit</span> code: <span class="token number">1</span>

        <span class="token punctuation">[</span><span class="token number">27</span> lines of output<span class="token punctuation">]</span>
        Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span>:
        
          <span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>
          
          File <span class="token string">&quot;C:\\Users\\BlueCitizen\\AppData\\Local\\Temp\\pip-build-env-r75amcq2\\overlay\\lib\\python3.11\\site-packages\\setuptools\\_distutils\\_msvccompiler.py&quot;</span>, line <span class="token number">246</span>, <span class="token keyword">in</span> initialize
            raise DistutilsPlatformError<span class="token punctuation">(</span>
        distutils.errors.DistutilsPlatformError: --plat-name must be one of <span class="token punctuation">(</span><span class="token string">&#39;win32&#39;</span>, <span class="token string">&#39;win-amd64&#39;</span>, <span class="token string">&#39;win-arm32&#39;</span>, <span class="token string">&#39;win-arm64&#39;</span><span class="token punctuation">)</span>
        <span class="token punctuation">[</span>end of output<span class="token punctuation">]</span>

        note: This error originates from a subprocess, and is likely not a problem with pip.
      error: subprocess-exited-with-error

      Getting requirements to build wheel did not run successfully.
      <span class="token builtin class-name">exit</span> code: <span class="token number">1</span>

      See above <span class="token keyword">for</span> output.

      note: This error originates from a subprocess, and is likely not a problem with pip.
      <span class="token punctuation">[</span>end of output<span class="token punctuation">]</span>

  note: This error originates from a subprocess, and is likely not a problem with pip.
error: subprocess-exited-with-error

× pip subprocess to <span class="token function">install</span> build dependencies did not run successfully.
│ <span class="token builtin class-name">exit</span> code: <span class="token number">1</span>
╰─<span class="token operator">&gt;</span> See above <span class="token keyword">for</span> output.

note: This error originates from a subprocess, and is likely not a problem with pip.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>使用<code>gcc -v</code>打印编译环境也是正常的，猜测和MSYS2或者虚拟环境有关。</p><h2 id="解决方案" tabindex="-1"><a class="header-anchor" href="#解决方案"><span>解决方案</span></a></h2>`,6),u={href:"https://packages.msys2.org/package/mingw-w64-x86_64-python-nuitka?repo=mingw64",target:"_blank",rel:"noopener noreferrer"},d=t(`<p>在<code>MSYS2 MINGW64</code>下通过命令安装</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>pacman <span class="token parameter variable">-S</span> mingw-w64-x86_64-python-nuitka
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>就可以在MSYS2环境下安装Nuitka了。</p><p>接下来，在创建虚拟环境时需要带上已经安装的系统软件包，否则虚拟环境中依然没有Nuitka。</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>python <span class="token parameter variable">-m</span> venv venv --system-site-packages
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>此时再进入虚拟环境，<code>pip list</code>查看已安装的软件包，会发现已经有Nuitka了。</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>Package     Version
----------- -------
Nuitka      <span class="token number">2.0</span>.2
ordered-set <span class="token number">4.1</span>.0
pip         <span class="token number">24.0</span>
setuptools  <span class="token number">65.5</span>.0
zstandard   <span class="token number">0.22</span>.0
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>接下来按照正常的流程打包即可。</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>python <span class="token parameter variable">-m</span> nuitka <span class="token parameter variable">--standalone</span> <span class="token parameter variable">--mingw64</span> app.py
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="quote" tabindex="-1"><a class="header-anchor" href="#quote"><span>Quote</span></a></h2>`,10),b={href:"https://blog.csdn.net/jaket5219999/article/details/131520276",target:"_blank",rel:"noopener noreferrer"},m={href:"https://packages.msys2.org/package/mingw-w64-x86_64-python-nuitka?repo=mingw64",target:"_blank",rel:"noopener noreferrer"};function k(v,h){const e=l("ExternalLinkIcon");return o(),p("div",null,[c,n("p",null,[s("经过一番搜索发现使用MSYS2自带的Python安装Nuitka确实可能会出现各种奇奇怪怪的错误。幸运的是，Nuitka官方放出了专用的软件包。Package: "),n("a",u,[s("mingw-w64-x86_64-python-nuitka"),a(e)])]),d,n("p",null,[n("a",b,[s("error: --plat-name must be one of (‘win32‘, ‘win-amd64‘, ‘win-arm32‘, ‘win-arm64‘)"),a(e)])]),n("p",null,[n("a",m,[s("mingw-w64-x86_64-python-nuitka"),a(e)])])])}const y=i(r,[["render",k],["__file","安装Nuitka时遇到pip subprocess to install build dependencies.html.vue"]]),w=JSON.parse(`{"path":"/posts/%E5%AE%89%E8%A3%85Nuitka%E6%97%B6%E9%81%87%E5%88%B0pip%20subprocess%20to%20install%20build%20dependencies.html","title":"安装Nuitka时遇到pip subprocess to install build dependencies did not run successfully","lang":"zh-CN","frontmatter":{"icon":"pen-to-square","date":"2024-02-28T00:00:00.000Z","category":["开发"],"tag":["Nuitka","Python"],"description":"安装Nuitka时遇到pip subprocess to install build dependencies did not run successfully 背景 使用MSYS2自带的Python3.11.8创建的虚拟环境下安装Nuitka会报如下错误 使用gcc -v打印编译环境也是正常的，猜测和MSYS2或者虚拟环境有关。 解决方案 经过一番搜...","head":[["meta",{"property":"og:url","content":"https://mister-hope.github.io/posts/%E5%AE%89%E8%A3%85Nuitka%E6%97%B6%E9%81%87%E5%88%B0pip%20subprocess%20to%20install%20build%20dependencies.html"}],["meta",{"property":"og:site_name","content":"BCkun's BLOG"}],["meta",{"property":"og:title","content":"安装Nuitka时遇到pip subprocess to install build dependencies did not run successfully"}],["meta",{"property":"og:description","content":"安装Nuitka时遇到pip subprocess to install build dependencies did not run successfully 背景 使用MSYS2自带的Python3.11.8创建的虚拟环境下安装Nuitka会报如下错误 使用gcc -v打印编译环境也是正常的，猜测和MSYS2或者虚拟环境有关。 解决方案 经过一番搜..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-03-02T07:23:44.000Z"}],["meta",{"property":"article:author","content":"BlueCitizen"}],["meta",{"property":"article:tag","content":"Nuitka"}],["meta",{"property":"article:tag","content":"Python"}],["meta",{"property":"article:published_time","content":"2024-02-28T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-03-02T07:23:44.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"安装Nuitka时遇到pip subprocess to install build dependencies did not run successfully\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-02-28T00:00:00.000Z\\",\\"dateModified\\":\\"2024-03-02T07:23:44.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"BlueCitizen\\",\\"url\\":\\"https://bckun.top\\"}]}"]]},"headers":[{"level":2,"title":"背景","slug":"背景","link":"#背景","children":[]},{"level":2,"title":"解决方案","slug":"解决方案","link":"#解决方案","children":[]},{"level":2,"title":"Quote","slug":"quote","link":"#quote","children":[]}],"git":{"createdTime":1709364224000,"updatedTime":1709364224000,"contributors":[{"name":"BlueCitizen","email":"bluecitizens@hotmail.com","commits":1}]},"readingTime":{"minutes":1.88,"words":565},"filePathRelative":"posts/安装Nuitka时遇到pip subprocess to install build dependencies.md","localizedDate":"2024年2月28日","excerpt":"\\n<h2>背景</h2>\\n<p>使用MSYS2自带的<code>Python3.11.8</code>创建的虚拟环境下安装Nuitka会报如下错误</p>\\n<div class=\\"language-bash\\" data-ext=\\"sh\\" data-title=\\"sh\\"><pre class=\\"language-bash\\"><code>  Installing build dependencies <span class=\\"token punctuation\\">..</span>. error\\n  error: subprocess-exited-with-error\\n\\n  × pip subprocess to <span class=\\"token function\\">install</span> build dependencies did not run successfully.\\n  │ <span class=\\"token builtin class-name\\">exit</span> code: <span class=\\"token number\\">1</span>\\n  ╰─<span class=\\"token operator\\">&gt;</span> <span class=\\"token punctuation\\">[</span><span class=\\"token number\\">51</span> lines of output<span class=\\"token punctuation\\">]</span>\\n      Looking <span class=\\"token keyword\\">in</span> indexes: https://pypi.tuna.tsinghua.edu.cn/simple\\n      Collecting <span class=\\"token assign-left variable\\">cffi</span><span class=\\"token operator\\">==</span><span class=\\"token number\\">1.16</span>.0\\n        Using cached https://pypi.tuna.tsinghua.edu.cn/packages/68/ce/95b0bae7968c65473e1298efb042e10cafc7bafc14d9e4f154008241c91d/cffi-1.16.0.tar.gz <span class=\\"token punctuation\\">(</span><span class=\\"token number\\">512</span> kB<span class=\\"token punctuation\\">)</span>\\n        Installing build dependencies: started\\n        Installing build dependencies: finished with status <span class=\\"token string\\">'done'</span>\\n        Getting requirements to build wheel: started\\n        Getting requirements to build wheel: finished with status <span class=\\"token string\\">'error'</span>\\n        error: subprocess-exited-with-error\\n\\n        Getting requirements to build wheel did not run successfully.\\n        <span class=\\"token builtin class-name\\">exit</span> code: <span class=\\"token number\\">1</span>\\n\\n        <span class=\\"token punctuation\\">[</span><span class=\\"token number\\">27</span> lines of output<span class=\\"token punctuation\\">]</span>\\n        Traceback <span class=\\"token punctuation\\">(</span>most recent call last<span class=\\"token punctuation\\">)</span>:\\n        \\n          <span class=\\"token punctuation\\">..</span><span class=\\"token punctuation\\">..</span><span class=\\"token punctuation\\">..</span>\\n          \\n          File <span class=\\"token string\\">\\"C:\\\\Users\\\\BlueCitizen\\\\AppData\\\\Local\\\\Temp\\\\pip-build-env-r75amcq2\\\\overlay\\\\lib\\\\python3.11\\\\site-packages\\\\setuptools\\\\_distutils\\\\_msvccompiler.py\\"</span>, line <span class=\\"token number\\">246</span>, <span class=\\"token keyword\\">in</span> initialize\\n            raise DistutilsPlatformError<span class=\\"token punctuation\\">(</span>\\n        distutils.errors.DistutilsPlatformError: --plat-name must be one of <span class=\\"token punctuation\\">(</span><span class=\\"token string\\">'win32'</span>, <span class=\\"token string\\">'win-amd64'</span>, <span class=\\"token string\\">'win-arm32'</span>, <span class=\\"token string\\">'win-arm64'</span><span class=\\"token punctuation\\">)</span>\\n        <span class=\\"token punctuation\\">[</span>end of output<span class=\\"token punctuation\\">]</span>\\n\\n        note: This error originates from a subprocess, and is likely not a problem with pip.\\n      error: subprocess-exited-with-error\\n\\n      Getting requirements to build wheel did not run successfully.\\n      <span class=\\"token builtin class-name\\">exit</span> code: <span class=\\"token number\\">1</span>\\n\\n      See above <span class=\\"token keyword\\">for</span> output.\\n\\n      note: This error originates from a subprocess, and is likely not a problem with pip.\\n      <span class=\\"token punctuation\\">[</span>end of output<span class=\\"token punctuation\\">]</span>\\n\\n  note: This error originates from a subprocess, and is likely not a problem with pip.\\nerror: subprocess-exited-with-error\\n\\n× pip subprocess to <span class=\\"token function\\">install</span> build dependencies did not run successfully.\\n│ <span class=\\"token builtin class-name\\">exit</span> code: <span class=\\"token number\\">1</span>\\n╰─<span class=\\"token operator\\">&gt;</span> See above <span class=\\"token keyword\\">for</span> output.\\n\\nnote: This error originates from a subprocess, and is likely not a problem with pip.\\n</code></pre></div>","autoDesc":true}`);export{y as comp,w as data};
